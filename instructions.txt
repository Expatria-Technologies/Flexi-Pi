# make a development folder to keep the home folder tidy
cd ~
mkdir devel
cd devel
git clone https://github.com/rodw-au/rpi-img-builder-lcnc
cd rpi-img-builder-lcnc
git checkout linuxcnc
#set up the environment - First run only
./install.sh
make ccompile

# Download the kernel fromn Raspberry but we want to go back to the matching commit
# for the latest preempt_rt patch  which is Linux version 6.1.46
# The Raspberry Pi kernel is advancing regularly merging with the kernel.org source
# The commit is now stored in userdata.txt

make commit board=bcm2711
make rootfs board=bcm2711
make image board=bcm2711

# Hint - ./build-lcnc.sh will run all of the above commands so you can leave it unattended
# After the first run you generally just need to make the image as the kernel and rootfs won't change
# the kernel won't change unless Debian Bookworm advances the kernel version AND/OR there is a later PREEMPT_RT patch


#User name and password
User: cnc
Password: cnc

