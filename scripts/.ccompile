#!/bin/bash

WHT="\e[1;37m"
FIN="\e[0m"

cross-depends(){
sudo apt install -y build-essential bison bc git dialog patch \
	dosfstools zip unzip qemu debootstrap qemu-user-static rsync \
	kmod cpio flex libssl-dev libncurses5-dev parted fakeroot swig kpartx \
	aria2 pv toilet figlet lsb-release xz-utils curl e2fsprogs btrfs-progs \
	distro-info-data crossbuild-essential-arm64 crossbuild-essential-armel \
	gcc-8-arm-linux-gnueabi gcc-9-arm-linux-gnueabi gcc-10-arm-linux-gnueabi \
	gcc-8-aarch64-linux-gnu gcc-9-aarch64-linux-gnu gcc-10-aarch64-linux-gnu \
	gcc-8 gcc-9 gcc-10 debian-archive-keyring debian-keyring make libelf-dev \
	xfsprogs
}

if [[ `sudo dmesg | grep -w arm64` ]]; then
        echo ""
        echo -e "${WHT}You are running native?${FIN}"
        echo -e "${WHT}Please run:${FIN} make ncompile"
        echo ""
        exit;
fi

if [[ `sudo dmesg | grep -w armv7` ]]; then
        echo ""
        echo -e "${WHT}You are running native?${FIN}"
        echo -e "${WHT}Please run:${FIN} make ncompile"
        echo ""
        exit;
fi

if [[ `sudo dmesg | grep -w armv6` ]]; then
        echo ""
        echo -e "${WHT}You are running native?${FIN}"
        echo -e "${WHT}Please run:${FIN} make ncompile"
        echo ""
        exit;
fi

cross-depends
